# 배열 항목 수정

배열 항목 수정또한 항목 제거 처럼 기존의 배열을 유지하면서 새로운 배열을 만들어내는 방식으로 해야한다. 때문에 map함수를 사용한다.

```
const onToggle  = id => {setUsers(
	users.map( user => user.id === id 			 
	? {...user,active:!user.active} 
	: user
	)
)}
```

## useEffect

컴포넌트가 화면에 mount 되기 전에 실행되고, 또 뎁스배열에 들어간 상태에 변화가 생기면 함수가 실행되는 hook의 함수. 

```
useEffect( () => {
	마운트 될 때 실행할 함수
	return () => {
		변경될 때 실행할 함수
	}
})
```

이 함수가 실행 될 시점에는 DOM이 이미 존재하기 때문에 setInterval이나 setTimeOut을 엘리먼트에 대해 사용이 가능하다.

useEffect의 두 번째 파라미터로는 deps 배열이 들어오는데, 빈 배열인 경우 컴포넌트가 마운트 될 때 한번 실행이 되며 return되는 함수는 컴포넌트가 사라질 때 호출이 된다, 의존하는 값이 존재할 경우 컴포넌트가 마운트 될때, 해당 상태가 업데이트될 때 실행된다.

시점을 구분해서 설명해보자면 return되는 크리너 함수는 업데이트가 일어나기 직전에 실행이 되고 그 다음에 몸체의 함수가 실행된다.

deps 배열을 생략할 경우 컴포넌트가 리랜더링 될 때 마다 실행이 된다.